
Debian GNU/Linux 11 syzkaller ttyS0

Warning: Permanently added '[localhost]:43209' (ED25519) to the list of known hosts.
executing program
syzkaller login: [   29.393702][ T6142] loop0: detected capacity change from 0 to 32768
[   29.451638][ T6142] bcachefs (loop0): mounting version 1.7: (unknown version) opts=metadata_checksum=none,data_checksum=none,compression=gzip,nojournal_transaction_names
[   29.452611][ T6142] bcachefs (loop0): recovering from clean shutdown, journal seq 10
[   29.453184][ T6142] bcachefs (loop0): Version downgrade required:
[   29.461270][ T6142] bcachefs (loop0): alloc_read... done
[   29.461990][ T6142] bcachefs (loop0): stripes_read... done
[   29.463278][ T6142] bcachefs (loop0): snapshots_read... done
[   29.465573][ T6142] bcachefs (loop0): journal_replay... done
[   29.466047][ T6142] bcachefs (loop0): resume_logged_ops... done
[   29.467313][ T6142] bcachefs (loop0): going read-write
[   29.468710][ T6142] bcachefs (loop0): done starting filesystem
[   29.476104][ T6142] FAULT_INJECTION: forcing a failure.
[   29.476104][ T6142] name failslab, interval 1, probability 0, space 0, times 1
[   29.477065][ T6142] CPU: 1 PID: 6142 Comm: syz-executor366 Not tainted 6.9.0-rc4 #2
[   29.477547][ T6142] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS 1.15.0-1 04/01/2014
[   29.478086][ T6142] Call Trace:
[   29.478296][ T6142]  <TASK>
[   29.478487][ T6142]  dump_stack_lvl+0x111/0x140
[   29.478985][ T6142]  dump_stack+0x19/0x20
[   29.479274][ T6142]  should_fail_ex+0x14f/0x160
[   29.479575][ T6142]  __should_failslab+0x4c/0x70
[   29.479898][ T6142]  should_failslab+0xd/0x20
[   29.480207][ T6142]  __kmalloc_node+0xa5/0x370
[   29.480520][ T6142]  ? srso_alias_return_thunk+0x5/0xfbef5
[   29.480903][ T6142]  ? lockdep_init_map_type+0x50/0x240
[   29.481222][ T6142]  ? kvmalloc_node+0xb1/0x190
[   29.481518][ T6142]  kvmalloc_node+0xb1/0x190
[   29.481810][ T6142]  __bch2_darray_resize+0x99/0x110
[   29.482129][ T6142]  bch2_readahead+0x499/0x640
[   29.482412][ T6142]  ? srso_alias_return_thunk+0x5/0xfbef5
[   29.482751][ T6142]  ? __pfx_bch2_readahead+0x10/0x10
[   29.483057][ T6142]  read_pages+0x81/0x3d0
[   29.483331][ T6142]  ? __sanitizer_cov_trace_const_cmp1+0x1e/0x30
[   29.483703][ T6142]  ? srso_alias_return_thunk+0x5/0xfbef5
[   29.484043][ T6142]  page_cache_ra_order+0x3bd/0x3d0
[   29.484345][ T6142]  filemap_fault+0xc8a/0x2090
[   29.484635][ T6142]  bch2_page_fault+0x29e/0x380
[   29.484934][ T6142]  __do_fault+0x55/0x1b0
[   29.485196][ T6142]  __handle_mm_fault+0x26f6/0x3460
[   29.485510][ T6142]  ? srso_alias_return_thunk+0x5/0xfbef5
[   29.485852][ T6142]  handle_mm_fault+0x276/0x860
[   29.486147][ T6142]  exc_page_fault+0x330/0x1250
[   29.486443][ T6142]  asm_exc_page_fault+0x2b/0x30
[   29.486735][ T6142] RIP: 0010:strncpy_from_user+0x13d/0x270
[   29.487082][ T6142] Code: a6 fe 49 83 ec 08 4d 89 2c 1e bf 07 00 00 00 4c 89 e6 48 83 c3 08 e8 82 ff a5 fe 49 83 fc 07 0f 86 0d 01 00 00 e8 f3 03 a6 fe <4d> 8b 2c 1f e8 ea 03 a6 fe 48 b8 ff fe fe fe fe fe fe fe 4c 89 ea
[   29.488081][ T6142] RSP: 0018:ffff88800f45fdd0 EFLAGS: 00050293
[   29.488427][ T6142] RAX: 0000000000000000 RBX: 0000000000000000 RCX: ffffffff8283bad5
[   29.488854][ T6142] RDX: ffff88800f6ca1c0 RSI: ffffffff8283bb0d RDI: 0000000000000007
[   29.489289][ T6142] RBP: ffff88800f45fe10 R08: 0000000000000000 R09: 0000000000000001
[   29.489721][ T6142] R10: 0000000000000fe0 R11: 0000000000000000 R12: 0000000000000fe0
[   29.490151][ T6142] R13: fffffffffffffff2 R14: ffff888010283020 R15: 00000000200000c0
[   29.490593][ T6142]  ? strncpy_from_user+0x105/0x270
[   29.490907][ T6142]  ? strncpy_from_user+0x13d/0x270
[   29.491228][ T6142]  getname_flags.part.0+0x57/0x270
[   29.491536][ T6142]  ? srso_alias_return_thunk+0x5/0xfbef5
[   29.491877][ T6142]  getname+0x51/0x80
[   29.492132][ T6142]  do_sys_openat2+0x66/0x110
[   29.492410][ T6142]  __x64_sys_openat+0x78/0xd0
[   29.492701][ T6142]  x64_sys_call+0x1b08/0x20b0
[   29.493004][ T6142]  do_syscall_64+0xc3/0x200
[   29.493292][ T6142]  entry_SYSCALL_64_after_hwframe+0x77/0x7f
[   29.493642][ T6142] RIP: 0033:0x7fef269902fd
[   29.493901][ T6142] Code: c3 e8 17 22 00 00 0f 1f 80 00 00 00 00 f3 0f 1e fa 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 <48> 3d 01 f0 ff ff 73 01 c3 48 c7 c1 b8 ff ff ff f7 d8 64 89 01 48
[   29.494908][ T6142] RSP: 002b:00007fffd31ebb38 EFLAGS: 00000246 ORIG_RAX: 0000000000000101
[   29.495373][ T6142] RAX: ffffffffffffffda RBX: 0000000000000000 RCX: 00007fef269902fd
[   29.495810][ T6142] RDX: 0000000000000000 RSI: 00000000200000c0 RDI: ffffffffffffff9c
[   29.496245][ T6142] RBP: 00007fffd31ebbe0 R08: 0000000000000000 R09: 00007fef26943090
[   29.496674][ T6142] R10: 0000000000000000 R11: 0000000000000246 R12: 0000000000000001
[   29.497107][ T6142] R13: 00007fffd31ebdf8 R14: 00007fef26a1f4b0 R15: 0000000000000001
[   29.497541][ T6142]  </TASK>
[   29.501606][ T6142] 
[   29.501796][ T6142] ================================================
[   29.502180][ T6142] WARNING: lock held when returning to user space!
[   29.502565][ T6142] 6.9.0-rc4 #2 Not tainted
[   29.502838][ T6142] ------------------------------------------------
[   29.503225][ T6142] syz-executor366/6142 is leaving the kernel with locks still held!
[   29.503855][ T6142] 1 lock held by syz-executor366/6142:
[   29.504508][ T6142]  #0: ffff88800ff04240 (&c->btree_trans_barrier){.+.+}-{0:0}, at: __bch2_trans_get+0x3af/0x4d0
[   29.506141][ T6142] syz-executor366 (6142) used greatest stack depth: 10392 bytes left

VM DIAGNOSIS:
17:57:13  Registers:
info registers vcpu 0
RAX=0000000000000000 RBX=0000000000000001 RCX=0000000000000000 RDX=00000000000003f9
RSI=ffffffff82a5ff8a RDI=ffffffff893a8160 RBP=ffff88800f45fc18 RSP=ffff88800f45fc00
R8 =0000000000000001 R9 =0000000000000000 R10=0000000000000000 R11=0000000000000000
R12=ffffffff893a8160 R13=0000000000000000 R14=ffffffff8923c020 R15=ffffffff811a684f
RIP=ffffffff82a5ffa1 RFL=00000006 [-----P-] CPL=0 II=0 A20=1 SMM=0 HLT=0
ES =0000 0000000000000000 00000000 00000000
CS =0010 0000000000000000 ffffffff 00a09b00 DPL=0 CS64 [-RA]
SS =0018 0000000000000000 ffffffff 00c09300 DPL=0 DS   [-WA]
DS =0000 0000000000000000 00000000 00000000
FS =0000 000055559259f480 00000000 00000000
GS =0000 ffff88807dc00000 00000000 00000000
LDT=0000 0000000000000000 00000000 00000000
TR =0040 fffffe0000003000 00004087 00008b00 DPL=0 TSS64-busy
GDT=     fffffe0000001000 0000007f
IDT=     fffffe0000000000 00000fff
CR0=80050033 CR2=000055a361a70058 CR3=0000000010374003 CR4=00770ef0
DR0=0000000000000000 DR1=0000000000000000 DR2=0000000000000000 DR3=0000000000000000 
DR6=00000000ffff0ff0 DR7=0000000000000400
EFER=0000000000000d01
FCW=037f FSW=0000 [ST=0] FTW=00 MXCSR=00001f80
FPR0=0000000000000000 0000 FPR1=0000000000000000 0000
FPR2=0000000000000000 0000 FPR3=0000000000000000 0000
FPR4=0000000000000000 0000 FPR5=0000000000000000 0000
FPR6=0000000000000000 0000 FPR7=0000000000000000 0000
Opmask00=0000000001c0fffa Opmask01=0000000000000000 Opmask02=0000000000000000 Opmask03=0000000000000000
Opmask04=0000000000000000 Opmask05=0000000000000000 Opmask06=0000000000000000 Opmask07=0000000000000000
ZMM00=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 00007fffd31ebbef 00007fffd31ebbe0
ZMM01=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 00007fffd31ebb40 0000003000000020
ZMM02=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 00007fffd31ebbe0
ZMM03=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 00007fffd31ebbe0 00007fffd31ebbe0
ZMM04=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 00007fffd31ebbef
ZMM05=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM06=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM07=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM08=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM09=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM10=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM11=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM12=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM13=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM14=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM15=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM16=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM17=0000000000000000 0000000000000000 0000000000000000 0000000000000000 2525252525252525 2525252525252525 2525252525252525 2525252525252525
ZMM18=0000000000000000 0000000000000000 0000000000000000 0000000000000000 9cfffb0e8cfffb0e 7cfffb0e6cfffb0e 5cfffb0e4cfffb0e ecfffb0e3c000000
ZMM19=0000000000000000 0000000000000000 0000000000000000 0000000000000000 9cdade0e8cdade0e 59dade0e49dade0e 5cdade0e4cdade0e c9dade0e19000000
ZMM20=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM21=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM22=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM23=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM24=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM25=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM26=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM27=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM28=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM29=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM30=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM31=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
info registers vcpu 1
RAX=ffff88807dd00000 RBX=ffff888009b10000 RCX=ffffffff8122166e RDX=ffffffff81168aba
RSI=0000000000000000 RDI=ffffffff81168aba RBP=ffff888009af3eb8 RSP=ffff888009af3eb8
R8 =0000000000000000 R9 =0000000000000000 R10=0000000000000000 R11=0000000000000000
R12=0000000000000001 R13=0000000000000000 R14=0000000000000000 R15=0000000000000000
RIP=ffffffff84f18c92 RFL=00000246 [---Z-P-] CPL=0 II=0 A20=1 SMM=0 HLT=1
ES =0000 0000000000000000 00000000 00000000
CS =0010 0000000000000000 ffffffff 00a09b00 DPL=0 CS64 [-RA]
SS =0018 0000000000000000 ffffffff 00c09300 DPL=0 DS   [-WA]
DS =0000 0000000000000000 00000000 00000000
FS =0000 0000000000000000 00000000 00000000
GS =0000 ffff88807dd00000 00000000 00000000
LDT=0000 0000000000000000 00000000 00000000
TR =0040 fffffe000003e000 00004087 00008b00 DPL=0 TSS64-busy
GDT=     fffffe000003c000 0000007f
IDT=     fffffe0000000000 00000fff
CR0=80050033 CR2=00007eff177c1000 CR3=00000000107fe002 CR4=00770ef0
DR0=0000000000000000 DR1=0000000000000000 DR2=0000000000000000 DR3=0000000000000000 
DR6=00000000ffff0ff0 DR7=0000000000000400
EFER=0000000000000d01
FCW=037f FSW=0000 [ST=0] FTW=00 MXCSR=00001f80
FPR0=0000000000000000 0000 FPR1=0000000000000000 0000
FPR2=0000000000000000 0000 FPR3=0000000000000000 0000
FPR4=0000000000000000 0000 FPR5=0000000000000000 0000
FPR6=0000000000000000 0000 FPR7=0000000000000000 0000
Opmask00=0000000000000080 Opmask01=00000000ffffffff Opmask02=000000000000ffff Opmask03=0000000000000000
Opmask04=00000000ffffffff Opmask05=00000000ffffffff Opmask06=00000000ffffffff Opmask07=0000000000000000
ZMM00=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM01=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 81e6c88340c40e83 1148f0cdf872f5ac
ZMM02=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 ffffffffffffff0f 0e0d0c0b0a090807
ZMM03=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 6c616e0074000065 6369767265732e68
ZMM04=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 4040404040404040 4040404040404040
ZMM05=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 5a5a5a5a5a5a5a5a 5a5a5a5a5a5a5a5a
ZMM06=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 2020202020202020 2020202020202020
ZMM07=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 000000000000ff00 00ff00ffffffffff
ZMM08=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM09=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM10=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM11=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM12=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM13=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM14=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM15=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM16=040ad8982d1d95c6 00000000000ae988 8ca0b852b1c7c8e1 00000000000ae7b8 a1fcdcf819d7e1e5 00000000000ae728 5837fe9dc1c91f32 00000000000ae618
ZMM17=23e8383c3c2f6124 00000000001c15c0 ac8bc31478ec8511 00000000000af3b0 d3fdd5f48436fbd7 00000000000aead0 bdbfd8e8cb96c8ce 00000000000aea28
ZMM18=a7beb863593694c1 00000000001c1628 23e8383c3c2f6124 00000000001c15c0 ac8bc31478ec8511 00000000000af3b0 d3fdd5f48436fbd7 00000000000aead0
ZMM19=bdbfd8e8cb96c8ce 00000000000aea28 040ad8982d1d95c6 00000000000ae988 8ca0b852b1c7c8e1 00000000000ae7b8 a1fcdcf819d7e1e5 00000000000ae728
ZMM20=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000342018302039 0000343618386420 0000000000000066 0000000000001031
ZMM21=f13ea85d3d77a419 00000000001b2ba8 e042d86d42eb936e 00000000001b27f8 fb795ef6d6577056 00000000001b2578 0f8973c9db26a4d8 00000000001af8b8
ZMM22=2c67c8bc2e329bc3 00000000001af858 ec2efd57dc4c00df 00000000001af7e8 eff9b2d0a8fce9cb 00000000001af730 d59e07bde36eea69 00000000001af6e0
ZMM23=7e8a42789393c4b7 00000000001af578 b3285ca56c489dff 0000000000191c88 2fccd54c36d8a3f3 0000000000188c40 ac585006bc0bee6f 0000000000186a08
ZMM24=0000000000000000 0000000000000000 0000000000000000 0000000000000000 1c130b170a30093a 242d2a332e360726 312c000a01282030 2020202020202009
ZMM25=0000000000000000 0000000000000000 0000000000000000 0000000000000000 252525252525253b 30093a2830222e1c 2422372d360a3109 3a27262f21222d26
ZMM26=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM27=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM28=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM29=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM30=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
ZMM31=0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000 0000000000000000
